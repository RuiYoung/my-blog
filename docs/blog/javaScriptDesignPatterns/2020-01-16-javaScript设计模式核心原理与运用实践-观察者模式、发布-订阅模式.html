<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>观察者模式、发布-订阅模式 | @Ruiyoung/blog</title>
    <meta name="description" content="博客">
    <link rel="preload stylesheet" href="/assets/style.35fd24d6.css" as="style">
    <script type="module" src="/assets/app.30ae9af4.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/assets/chunks/framework.544e8ca7.js">
  <link rel="modulepreload" href="/assets/chunks/theme.ce34fe37.js">
  <link rel="modulepreload" href="/assets/javaScriptDesignPatterns_2020-01-16-javaScript设计模式核心原理与运用实践-观察者模式、发布-订阅模式.md.ac86eee9.lean.js">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body><!--v-if--><!--teleport anchor-->
    <div id="app"><div class="Layout" data-v-6aa38b36 data-v-e6ea0070><!--[--><!----><!--[--><div class="theme-blog-popover" style="display:none;" data-pagefind-ignore="all" data-v-bd85d31a><div class="header" data-v-bd85d31a><div class="title-wrapper" data-v-bd85d31a><i class="el-icon" style="font-size:20px;" data-v-bd85d31a><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" data-v-bd85d31a><path fill="currentColor" d="M288 128h608L736 384l160 256H288v320h-96V64h96v64z"></path></svg><!--]--></i><span class="title" data-v-bd85d31a></span></div><i class="el-icon close-icon" style="font-size:20px;" data-v-bd85d31a><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" data-v-bd85d31a><path fill="currentColor" d="M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"></path></svg><!--]--></i></div><!----><div class="footer content" data-v-bd85d31a><!--[--><!--]--></div></div><div class="theme-blog-popover-close" style="display:none;" data-v-bd85d31a><i class="el-icon" style="font-size:20px;" data-v-bd85d31a><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" data-v-bd85d31a><path fill="currentColor" d="M288 128h608L736 384l160 256H288v320h-96V64h96v64z"></path></svg><!--]--></i></div><!--]--><!--]--><!--[--><span tabindex="-1" data-v-d9529604></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-d9529604> Skip to content </a><!--]--><!----><header class="VPNav" data-v-e6ea0070 data-v-24387b77><div class="VPNavBar has-sidebar" data-v-24387b77 data-v-0757dbe1><div class="container" data-v-0757dbe1><div class="title" data-v-0757dbe1><div class="VPNavBarTitle has-sidebar" data-v-0757dbe1 data-v-12201b48><a class="title" href="/" data-v-12201b48><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.jpg" alt data-v-a545b54c><!--]--><!--[-->@Ruiyoung/blog<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-0757dbe1><div class="curtain" data-v-0757dbe1></div><div class="content-body" data-v-0757dbe1><!--[--><!--[--><!--[--><div class="blog-search" data-pagefind-ignore="all" data-v-6aa38b36 style="--1219a1c8:1;" data-v-c40c172b><div class="nav-search-btn-wait" data-v-c40c172b><svg width="14" height="14" viewBox="0 0 20 20" data-v-c40c172b><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" data-v-c40c172b></path></svg><span class="search-tip" data-v-c40c172b>搜索</span><span class="metaKey" data-v-c40c172b> K </span></div><!--teleport start--><!--teleport end--></div><!--]--><!--]--><!--]--><!----><!----><!----><div class="VPNavBarAppearance appearance" data-v-0757dbe1 data-v-99c88b4b><label title="toggle dark mode" data-v-99c88b4b data-v-a07f3bf1><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a07f3bf1 data-v-23115fca><span class="check" data-v-23115fca><span class="icon" data-v-23115fca><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a07f3bf1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a07f3bf1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-0757dbe1 data-v-fa0fe053 data-v-8d223bb8><!--[--><a class="VPSocialLink" href="https://github.com/RuiYoung" aria-label="github" target="_blank" rel="noopener" data-v-8d223bb8 data-v-ca7e37f1><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-0757dbe1 data-v-7f736dd2 data-v-ee9d4832><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-ee9d4832><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-ee9d4832><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-ee9d4832><div class="VPMenu" data-v-ee9d4832 data-v-ec451558><!----><!--[--><!--[--><!----><div class="group" data-v-7f736dd2><div class="item appearance" data-v-7f736dd2><p class="label" data-v-7f736dd2>Appearance</p><div class="appearance-action" data-v-7f736dd2><label title="toggle dark mode" data-v-7f736dd2 data-v-a07f3bf1><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a07f3bf1 data-v-23115fca><span class="check" data-v-23115fca><span class="icon" data-v-23115fca><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a07f3bf1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a07f3bf1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-7f736dd2><div class="item social-links" data-v-7f736dd2><div class="VPSocialLinks social-links-list" data-v-7f736dd2 data-v-8d223bb8><!--[--><a class="VPSocialLink" href="https://github.com/RuiYoung" aria-label="github" target="_blank" rel="noopener" data-v-8d223bb8 data-v-ca7e37f1><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-0757dbe1 data-v-bdb16bc4><span class="container" data-v-bdb16bc4><span class="top" data-v-bdb16bc4></span><span class="middle" data-v-bdb16bc4></span><span class="bottom" data-v-bdb16bc4></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-e6ea0070 data-v-d8359a6c><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-d8359a6c><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-d8359a6c><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-d8359a6c>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-d8359a6c data-v-a1d8faa8><button data-v-a1d8faa8>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-e6ea0070 data-v-ab69967d><div class="curtain" data-v-ab69967d></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-ab69967d><span class="visually-hidden" id="sidebar-aria-label" data-v-ab69967d> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-ab69967d><div class="VPSidebarItem level-0" data-v-ab69967d data-v-78ac17a2><!----><!----></div></div><!--]--><!--[--><!--[--><div class="sidebar" data-pagefind-ignore="all" data-v-6aa38b36 data-v-a6ad8df6><div class="card recommend" data-pagefind-ignore="all" data-v-a6ad8df6 data-v-86cb3b01><div class="card-header" data-v-86cb3b01><span class="title" data-v-86cb3b01>🔍 相关文章</span><!----></div><ol class="recommend-container" data-v-86cb3b01><!--[--><li data-v-86cb3b01><i class="num" data-v-86cb3b01>1</i><div class="des" data-v-86cb3b01><a class="el-link el-link--info is-underline title" href="/javaScriptDesignPatterns/2020-01-17-javaScript设计模式核心原理与运用实践-迭代器模式" data-v-86cb3b01><!--v-if--><span class="el-link__inner"><!--[-->迭代器模式<!--]--></span><!--v-if--></a><div class="suffix" data-v-86cb3b01><span class="tag" data-v-86cb3b01>2020-01-17</span></div></div></li><li data-v-86cb3b01><i class="num" data-v-86cb3b01>2</i><div class="des" data-v-86cb3b01><a class="el-link el-link--info is-underline title" href="/javaScriptDesignPatterns/2020-01-16-javaScript设计模式核心原理与运用实践-观察者模式、发布-订阅模式" data-v-86cb3b01><!--v-if--><span class="el-link__inner"><!--[-->观察者模式、发布-订阅模式<!--]--></span><!--v-if--></a><div class="suffix" data-v-86cb3b01><span class="tag" data-v-86cb3b01>2020-01-16</span></div></div></li><li data-v-86cb3b01><i class="num" data-v-86cb3b01>3</i><div class="des" data-v-86cb3b01><a class="el-link el-link--info is-underline title" href="/javaScriptDesignPatterns/2020-01-14-javaScript设计模式核心原理与运用实践-策略模式、状态模式" data-v-86cb3b01><!--v-if--><span class="el-link__inner"><!--[-->策略模式、状态模式<!--]--></span><!--v-if--></a><div class="suffix" data-v-86cb3b01><span class="tag" data-v-86cb3b01>2020-01-14</span></div></div></li><li data-v-86cb3b01><i class="num" data-v-86cb3b01>4</i><div class="des" data-v-86cb3b01><a class="el-link el-link--info is-underline title" href="/javaScriptDesignPatterns/2020-01-11-javaScript设计模式核心原理与运用实践-代理模式" data-v-86cb3b01><!--v-if--><span class="el-link__inner"><!--[-->代理模式<!--]--></span><!--v-if--></a><div class="suffix" data-v-86cb3b01><span class="tag" data-v-86cb3b01>2020-01-11</span></div></div></li><li data-v-86cb3b01><i class="num" data-v-86cb3b01>5</i><div class="des" data-v-86cb3b01><a class="el-link el-link--info is-underline title" href="/javaScriptDesignPatterns/2020-01-06-javaScript设计模式核心原理与运用实践-单例模式" data-v-86cb3b01><!--v-if--><span class="el-link__inner"><!--[-->单例模式<!--]--></span><!--v-if--></a><div class="suffix" data-v-86cb3b01><span class="tag" data-v-86cb3b01>2020-01-06</span></div></div></li><li data-v-86cb3b01><i class="num" data-v-86cb3b01>6</i><div class="des" data-v-86cb3b01><a class="el-link el-link--info is-underline title" href="/javaScriptDesignPatterns/2020-01-08-javaScript设计模式核心原理与运用实践-装饰器模式" data-v-86cb3b01><!--v-if--><span class="el-link__inner"><!--[-->装饰器模式<!--]--></span><!--v-if--></a><div class="suffix" data-v-86cb3b01><span class="tag" data-v-86cb3b01>2020-01-06</span></div></div></li><li data-v-86cb3b01><i class="num" data-v-86cb3b01>7</i><div class="des" data-v-86cb3b01><a class="el-link el-link--info is-underline title" href="/javaScriptDesignPatterns/2020-01-09-javaScript设计模式核心原理与运用实践-适配器模式" data-v-86cb3b01><!--v-if--><span class="el-link__inner"><!--[-->适配器模式<!--]--></span><!--v-if--></a><div class="suffix" data-v-86cb3b01><span class="tag" data-v-86cb3b01>2020-01-06</span></div></div></li><li data-v-86cb3b01><i class="num" data-v-86cb3b01>8</i><div class="des" data-v-86cb3b01><a class="el-link el-link--info is-underline title" href="/javaScriptDesignPatterns/2020-01-02-javaScript 设计模式核心原理与应用实践-构造器模式、工厂模式" data-v-86cb3b01><!--v-if--><span class="el-link__inner"><!--[-->构造器模式、工厂模式<!--]--></span><!--v-if--></a><div class="suffix" data-v-86cb3b01><span class="tag" data-v-86cb3b01>2020-01-02</span></div></div></li><li data-v-86cb3b01><i class="num" data-v-86cb3b01>9</i><div class="des" data-v-86cb3b01><a class="el-link el-link--info is-underline title" href="/javaScriptDesignPatterns/2020-01-02-javaScript 设计模式核心原理与应用实践-设计模式的道与术" data-v-86cb3b01><!--v-if--><span class="el-link__inner"><!--[-->设计模式的道与术<!--]--></span><!--v-if--></a><div class="suffix" data-v-86cb3b01><span class="tag" data-v-86cb3b01>2020-01-02</span></div></div></li><!--]--></ol></div></div><!--]--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-pagefind-body data-v-e6ea0070 data-v-c81dddc8><div class="VPDoc has-sidebar has-aside" data-v-c81dddc8 data-v-0538a491><!--[--><!--]--><div class="container" data-v-0538a491><div class="aside" data-v-0538a491><div class="aside-curtain" data-v-0538a491></div><div class="aside-container" data-v-0538a491><div class="aside-content" data-v-0538a491><div class="VPDocAside" data-v-0538a491 data-v-fdfc86d0><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-fdfc86d0 data-v-d1a17717><div class="content" data-v-d1a17717><div class="outline-marker" data-v-d1a17717></div><div class="outline-title" data-v-d1a17717>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-d1a17717><span class="visually-hidden" id="doc-outline-aria-label" data-v-d1a17717> Table of Contents for current page </span><ul class="root" data-v-d1a17717 data-v-a1a8d330><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-fdfc86d0></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-0538a491><div class="content-container" data-v-0538a491><!--[--><!--[--><!--[--><!----><!----><!--]--><!--]--><!--]--><!----><main class="main" data-v-0538a491><div style="position:relative;" class="vp-doc _javaScriptDesignPatterns_2020-01-16-javaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E4%B8%8E%E8%BF%90%E7%94%A8%E5%AE%9E%E8%B7%B5-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E3%80%81%E5%8F%91%E5%B8%83-%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F" data-v-0538a491><div><h4 id="观察者模式" tabindex="-1">观察者模式 <a class="header-anchor" href="#观察者模式" aria-label="Permalink to &quot;观察者模式&quot;">​</a></h4><blockquote><p>观察者模式定义了一种一对多的依赖关系，让多个观察者对象同时监听某一个目标对象，当这个目标对象的状态发生变化时，会通知所有观察者对象，使它们能够自动更新。</p></blockquote><p>观察者模式有一个“别名”，叫发布 - 订阅模式（之所以别名加了引号，是因为两者之间存在着细微的差异）。这个别名非常形象地诠释了观察者模式里两个核心的角色要素——“发布者”与“订阅者”。</p><h5 id="最基本的发布者和订阅者类的设计和编写" tabindex="-1">最基本的发布者和订阅者类的设计和编写: <a class="header-anchor" href="#最基本的发布者和订阅者类的设计和编写" aria-label="Permalink to &quot;最基本的发布者和订阅者类的设计和编写:&quot;">​</a></h5><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">// 定义发布者类</span></span>
<span class="line"><span style="color:#A6ACCD;">class Publisher {</span></span>
<span class="line"><span style="color:#A6ACCD;">  constructor() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.observers = []</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(&#39;Publisher created&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  // 增加订阅者</span></span>
<span class="line"><span style="color:#A6ACCD;">  add(observer) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(&#39;Publisher.add invoked&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.observers.push(observer)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  // 移除订阅者</span></span>
<span class="line"><span style="color:#A6ACCD;">  remove(observer) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(&#39;Publisher.remove invoked&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.observers.forEach((item, i) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (item === observer) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.observers.splice(i, 1)</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    })</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  // 通知所有订阅者</span></span>
<span class="line"><span style="color:#A6ACCD;">  notify() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(&#39;Publisher.notify invoked&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.observers.forEach((observer) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">      observer.update(this)</span></span>
<span class="line"><span style="color:#A6ACCD;">    })</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 定义订阅者类</span></span>
<span class="line"><span style="color:#A6ACCD;">class Observer {</span></span>
<span class="line"><span style="color:#A6ACCD;">    constructor() {</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;Observer created&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    update() {</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;Observer.update invoked&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><p>在实际的业务开发中，我们所有的定制化的发布者/订阅者逻辑都可以基于这两个基本类来改写。比如我们可以通过拓展发布者类，来使所有的订阅者来监听某个特定状态的变化。举例：产品韩梅梅拉群（有前端开发李雷，还有后端开发 A，测试同学 B）开发新年需求，甩出需求文档（prd），开发者们来监听需求文档（prd）的变化，展开工作：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">// 定义一个具体的需求文档（prd）发布类</span></span>
<span class="line"><span style="color:#A6ACCD;">class PrdPublisher extends Publisher {</span></span>
<span class="line"><span style="color:#A6ACCD;">    constructor() {</span></span>
<span class="line"><span style="color:#A6ACCD;">        super()</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 初始化需求文档</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.prdState = null</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 韩梅梅还没有拉群，开发群目前为空</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.observers = []</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;PrdPublisher created&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 该方法用于获取当前的prdState</span></span>
<span class="line"><span style="color:#A6ACCD;">    getState() {</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;PrdPublisher.getState invoked&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        return this.prdState</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 该方法用于改变prdState的值</span></span>
<span class="line"><span style="color:#A6ACCD;">    setState(state) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;PrdPublisher.setState invoked&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        // prd的值发生改变</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.prdState = state</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 需求文档变更，立刻通知所有开发者</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.notify()</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 定义一个具体的订阅方类</span></span>
<span class="line"><span style="color:#A6ACCD;">class DeveloperObserver extends Observer {</span></span>
<span class="line"><span style="color:#A6ACCD;">    constructor() {</span></span>
<span class="line"><span style="color:#A6ACCD;">        super()</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 需求文档一开始还不存在，prd初始为空对象</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.prdState = {}</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;DeveloperObserver created&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 重写一个具体的update方法</span></span>
<span class="line"><span style="color:#A6ACCD;">    update(publisher) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;DeveloperObserver.update invoked&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 更新需求文档</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.prdState = publisher.getState()</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 调用工作函数</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.work()</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // work方法，一个专门搬砖的方法</span></span>
<span class="line"><span style="color:#A6ACCD;">    work() {</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取需求文档</span></span>
<span class="line"><span style="color:#A6ACCD;">        const prd = this.prdState</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 开始基于需求文档提供的信息搬砖。。。</span></span>
<span class="line"><span style="color:#A6ACCD;">        ...</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;996 begins...&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 工作流程</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 创建订阅者：前端开发李雷</span></span>
<span class="line"><span style="color:#A6ACCD;">const liLei = new DeveloperObserver()</span></span>
<span class="line"><span style="color:#A6ACCD;">// 创建订阅者：服务端开发小A</span></span>
<span class="line"><span style="color:#A6ACCD;">const A = new DeveloperObserver()</span></span>
<span class="line"><span style="color:#A6ACCD;">// 创建订阅者：测试同学小B</span></span>
<span class="line"><span style="color:#A6ACCD;">const B = new DeveloperObserver()</span></span>
<span class="line"><span style="color:#A6ACCD;">// 韩梅梅出现了</span></span>
<span class="line"><span style="color:#A6ACCD;">const hanMeiMei = new PrdPublisher()</span></span>
<span class="line"><span style="color:#A6ACCD;">// 需求文档出现了</span></span>
<span class="line"><span style="color:#A6ACCD;">const prd = {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 具体的需求内容</span></span>
<span class="line"><span style="color:#A6ACCD;">    ...</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">// 韩梅梅开始拉群</span></span>
<span class="line"><span style="color:#A6ACCD;">hanMeiMei.add(liLei)</span></span>
<span class="line"><span style="color:#A6ACCD;">hanMeiMei.add(A)</span></span>
<span class="line"><span style="color:#A6ACCD;">hanMeiMei.add(B)</span></span>
<span class="line"><span style="color:#A6ACCD;">// 韩梅梅发送了需求文档，并@了所有人</span></span>
<span class="line"><span style="color:#A6ACCD;">hanMeiMei.setState(prd)</span></span></code></pre></div><h4 id="vue-数据双向绑定-响应式系统-的实现原理" tabindex="-1">Vue 数据双向绑定（响应式系统）的实现原理 <a class="header-anchor" href="#vue-数据双向绑定-响应式系统-的实现原理" aria-label="Permalink to &quot;Vue 数据双向绑定（响应式系统）的实现原理&quot;">​</a></h4><p><img src="/img/vue-deep.png" alt="vue"></p><p>在 Vue 中，每个组件实例都有相应的 watcher 实例对象，它会在组件渲染的过程中把属性记录为依赖，之后当依赖项的 setter 被调用时，会通知 watcher 重新计算，从而致使它关联的组件得以更新——这是一个典型的观察者模式。</p><p>在 Vue 数据双向绑定的实现逻辑里，有这样三个关键角色：</p><ul><li>observer（监听器）：注意，此 observer 非彼 observer。在我们上节的解析中，observer 作为设计模式中的一个角色，代表“订阅者”。但在 Vue 数据双向绑定的角色结构里，所谓的 observer 不仅是一个数据监听器，它还需要对监听到的数据进行转发——也就是说它同时还是一个发布者。</li><li>watcher（订阅者）：observer 把数据转发给了真正的订阅者——watcher 对象。watcher 接收到新的数据后，会去更新视图。</li><li>compile（编译器）：MVVM 框架特有的角色，负责对每个节点元素指令进行扫描和解析，指令的数据初始化、订阅者的创建这些“杂活”也归它管。</li></ul><p><img src="/img/vue-circle.png" alt="vue"></p><h5 id="实现-observer" tabindex="-1">实现 observer <a class="header-anchor" href="#实现-observer" aria-label="Permalink to &quot;实现 observer&quot;">​</a></h5><p>需要实现一个方法，这个方法会对需要监听的数据对象进行遍历、给它的属性加上定制的 getter 和 setter 函数。这样但凡这个对象的某个属性发生了改变，就会触发 setter 函数，进而通知到订阅者。这个 setter 函数，就是我们的监听器：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">// observe方法遍历并包装对象属性</span></span>
<span class="line"><span style="color:#A6ACCD;">function observe(target) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 若target是一个对象，则遍历它</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(target &amp;&amp; typeof target === &#39;object&#39;) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        Object.keys(target).forEach((key)=&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">            // defineReactive方法会给目标属性装上“监听器”</span></span>
<span class="line"><span style="color:#A6ACCD;">            defineReactive(target, key, target[key])</span></span>
<span class="line"><span style="color:#A6ACCD;">        })</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 定义defineReactive方法</span></span>
<span class="line"><span style="color:#A6ACCD;">function defineReactive(target, key, val) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 属性值也可能是object类型，这种情况下需要调用observe进行递归遍历</span></span>
<span class="line"><span style="color:#A6ACCD;">    observe(val)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 为当前属性安装监听器</span></span>
<span class="line"><span style="color:#A6ACCD;">    Object.defineProperty(target, key, {</span></span>
<span class="line"><span style="color:#A6ACCD;">         // 可枚举</span></span>
<span class="line"><span style="color:#A6ACCD;">        enumerable: true,</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 不可配置</span></span>
<span class="line"><span style="color:#A6ACCD;">        configurable: false,</span></span>
<span class="line"><span style="color:#A6ACCD;">        get: function () {</span></span>
<span class="line"><span style="color:#A6ACCD;">            return val;</span></span>
<span class="line"><span style="color:#A6ACCD;">        },</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 监听器函数</span></span>
<span class="line"><span style="color:#A6ACCD;">        set: function (value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">            console.log(`${target}属性的${key}属性从${val}值变成了了${value}`)</span></span>
<span class="line"><span style="color:#A6ACCD;">            val = value</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 通知所有订阅者</span></span>
<span class="line"><span style="color:#A6ACCD;">            dep.notify()</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">    });</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h5 id="实现订阅者-dep" tabindex="-1">实现订阅者 Dep <a class="header-anchor" href="#实现订阅者-dep" aria-label="Permalink to &quot;实现订阅者 Dep&quot;">​</a></h5><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">// 定义订阅者类Dep</span></span>
<span class="line"><span style="color:#A6ACCD;">class Dep {</span></span>
<span class="line"><span style="color:#A6ACCD;">    constructor() {</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 初始化订阅队列</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.subs = []</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 增加订阅者</span></span>
<span class="line"><span style="color:#A6ACCD;">    addSub(sub) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.subs.push(sub)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 通知订阅者</span></span>
<span class="line"><span style="color:#A6ACCD;">    notify() {</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.subs.forEach((sub)=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">            sub.update()</span></span>
<span class="line"><span style="color:#A6ACCD;">        })</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h4 id="在-vue-中使用-event-bus-来实现组件间的通讯" tabindex="-1">在 Vue 中使用 Event Bus 来实现组件间的通讯 <a class="header-anchor" href="#在-vue-中使用-event-bus-来实现组件间的通讯" aria-label="Permalink to &quot;在 Vue 中使用 Event Bus 来实现组件间的通讯&quot;">​</a></h4><p>Event Bus/Event Emitter 作为全局事件总线，它起到的是一个沟通桥梁的作用。我们可以把它理解为一个事件中心，我们所有事件的订阅/发布都不能由订阅方和发布方“私下沟通”，必须要委托这个事件中心帮我们实现。</p><p>在 Vue 中，有时候 A 组件和 B 组件中间隔了很远，看似没什么关系，但我们希望它们之间能够通信。这种情况下除了求助于 Vuex 之外，我们还可以通过 Event Bus 来实现我们的需求。</p><p>创建一个 Event Bus（本质上也是 Vue 实例）并导出：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">const EventBus = new Vue()</span></span>
<span class="line"><span style="color:#A6ACCD;">export default EventBus</span></span></code></pre></div><p>在主文件里引入 EventBus，并挂载到全局：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">import bus from &#39;EventBus的文件路径&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">Vue.prototype.bus = bus</span></span></code></pre></div><p>订阅事件：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">// 这里func指someEvent这个事件的监听函数</span></span>
<span class="line"><span style="color:#A6ACCD;">this.bus.$on(&#39;someEvent&#39;, func)</span></span></code></pre></div><p>发布（触发）事件：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">// 这里params指someEvent这个事件被触发时回调函数接收的入参</span></span>
<span class="line"><span style="color:#A6ACCD;">this.bus.$emit(&#39;someEvent&#39;, params)</span></span></code></pre></div><p>大家会发现，整个调用过程中，没有出现具体的发布者和订阅者（比如上节的 PrdPublisher 和 DeveloperObserver），全程只有 bus 这个东西一个人在疯狂刷存在感。这就是全局事件总线的特点——所有事件的发布/订阅操作，必须经由事件中心，禁止一切“私下交易”！</p><h5 id="实现一个-event-bus" tabindex="-1">实现一个 Event Bus <a class="header-anchor" href="#实现一个-event-bus" aria-label="Permalink to &quot;实现一个 Event Bus&quot;">​</a></h5><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">class EventEmitter {</span></span>
<span class="line"><span style="color:#A6ACCD;">  constructor() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // handlers是一个map，用于存储事件与回调之间的对应关系</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.handlers = {}</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // on方法用于安装事件监听器，它接受目标事件名和回调函数作为参数</span></span>
<span class="line"><span style="color:#A6ACCD;">  on(eventName, cb) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 先检查一下目标事件名有没有对应的监听函数队列</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (!this.handlers[eventName]) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      // 如果没有，那么首先初始化一个监听函数队列</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.handlers[eventName] = []</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 把回调函数推入目标事件的监听函数队列里去</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.handlers[eventName].push(cb)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // emit方法用于触发目标事件，它接受事件名和监听函数入参作为参数</span></span>
<span class="line"><span style="color:#A6ACCD;">  emit(eventName, ...args) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 检查目标事件是否有监听函数队列</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (this.handlers[eventName]) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      // 如果有，则逐个调用队列里的回调函数</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.handlers[eventName].forEach((callback) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">        callback(...args)</span></span>
<span class="line"><span style="color:#A6ACCD;">      })</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // 移除某个事件回调队列里的指定回调函数</span></span>
<span class="line"><span style="color:#A6ACCD;">  off(eventName, cb) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    const callbacks = this.handlers[eventName]</span></span>
<span class="line"><span style="color:#A6ACCD;">    const index = callbacks.indexOf(cb)</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (index !== -1) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      callbacks.splice(index, 1)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // 为事件注册单次监听器</span></span>
<span class="line"><span style="color:#A6ACCD;">  once(eventName, cb) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 对回调函数进行包装，使其执行完毕自动被移除</span></span>
<span class="line"><span style="color:#A6ACCD;">    const wrapper = (...args) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">      cb.apply(...args)</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.off(eventName, wrapper)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.on(eventName, wrapper)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h4 id="观察者模式与发布-订阅模式的区别" tabindex="-1">观察者模式与发布-订阅模式的区别 <a class="header-anchor" href="#观察者模式与发布-订阅模式的区别" aria-label="Permalink to &quot;观察者模式与发布-订阅模式的区别&quot;">​</a></h4><p>韩梅梅把所有的开发者拉了一个群，直接把需求文档丢给每一位群成员，这种发布者直接触及到订阅者的操作，叫观察者模式。但如果韩梅梅没有拉群，而是把需求文档上传到了公司统一的需求平台上，需求平台感知到文件的变化、自动通知了每一位订阅了该文件的开发者，这种发布者不直接触及到订阅者、而是由统一的第三方来完成实际的通信的操作，叫做发布-订阅模式。</p><p>观察者模式和发布-订阅模式之间的区别，在于是否存在第三方、发布者能否直接感知订阅者.</p><p><img src="/img/diff-moshi.png" alt="diff"></p><p>观察者模式，解决的其实是模块间的耦合问题，有它在，即便是两个分离的、毫不相关的模块，也可以实现数据通信。但观察者模式仅仅是减少了耦合，并没有完全地解决耦合问题——被观察者必须去维护一套观察者的集合，这些观察者必须实现统一的方法供被观察者调用，两者之间还是有着说不清、道不明的关系。</p><p>发布-订阅模式，则是快刀斩乱麻了——发布者完全不用感知订阅者，不用关心它怎么实现回调方法，事件的注册和触发都发生在独立于双方的第三方平台（事件总线）上。发布-订阅模式下，实现了完全地解耦。</p><p>在实际开发中，我们的模块解耦诉求并非总是需要它们完全解耦。如果两个模块之间本身存在关联，且这种关联是稳定的、必要的，那么我们使用观察者模式就足够了。而在模块与模块之间独立性较强、且没有必要单纯为了数据通信而强行为两者制造依赖的情况下，我们往往会倾向于使用发布-订阅模式。</p></div></div></main><footer class="VPDocFooter" data-v-0538a491 data-v-f6a6f5b4><!--[--><!--]--><!----><!----></footer><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-e6ea0070 data-v-1034d6ea><div class="container" data-v-1034d6ea><p class="message" data-v-1034d6ea>自定义底部内容</p><p class="copyright" data-v-1034d6ea>MIT Licensed | <a target="_blank" href="https://theme.sugarat.top/"> @sugarat/theme </a></p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"frontendperformanceoptimization_2019-12-21-event loop 与异步更新策略.md\":\"125fbd41\",\"frontendperformanceoptimization_2019-12-20-浏览器加载流程.md\":\"4acc1f0b\",\"frontendperformanceoptimization_2019-12-20-图片优化-质量与性能的博弈.md\":\"13603a55\",\"frontendperformanceoptimization_2019-12-21-本地存储-从 cookie 到 web storage、indexeddb.md\":\"b08c9650\",\"frontendperformanceoptimization_2019-12-20-webpack性能调优与gzip 原理.md\":\"f884a538\",\"frontendperformanceoptimization_2019-12-21-解锁浏览器背后的运行机制.md\":\"f549539c\",\"frontendperformanceoptimization_2019-12-21-服务端渲染的探索与实践.md\":\"0536a496\",\"frontendperformanceoptimization_2019-12-21-cdn 的缓存与回源机制解析.md\":\"9b69409c\",\"frontendperformanceoptimization_2019-12-21-浏览器缓存机制介绍与缓存策略剖析.md\":\"cd1cc8cb\",\"frontendperformanceoptimization_2019-12-22-dom 优化原理与基本实践.md\":\"fef451a5\",\"css_2017-10-04-css-基本概念.md\":\"dcee1fb1\",\"index.md\":\"20c600de\",\"css_2017-10-05-css-em_rem_vw_vh.md\":\"73b1a51f\",\"javascript_2017-07-01-javascript-面向对象.md\":\"a7bfaea1\",\"javascript_2017-07-01-javascript-函数.md\":\"8c4acbfa\",\"javascript_2017-07-05-javascript-匿名函数和闭包.md\":\"186dada9\",\"javascript_2017-07-12-javascript-json.md\":\"f0232e7b\",\"javascript_2017-09-05-javascript-date.md\":\"66fcb352\",\"javascript_2017-07-12-javascript-cookie.md\":\"82d16420\",\"javascript_2017-07-15-javascript-ajax.md\":\"937e0bd0\",\"javascript_2017-08-05-javascript-正则表达式regexp.md\":\"4630fc5a\",\"javascript_2017-09-05-javascript-错误处理.md\":\"945c602b\",\"javascriptdesignpatterns_2020-01-02-javascript 设计模式核心原理与应用实践-构造器模式、工厂模式.md\":\"cd600265\",\"javascriptdesignpatterns_2020-01-02-javascript 设计模式核心原理与应用实践-设计模式的道与术.md\":\"4997e417\",\"javascriptdesignpatterns_2020-01-06-javascript设计模式核心原理与运用实践-单例模式.md\":\"639133bc\",\"javascriptdesignpatterns_2020-01-08-javascript设计模式核心原理与运用实践-装饰器模式.md\":\"303daa68\",\"javascriptdesignpatterns_2020-01-11-javascript设计模式核心原理与运用实践-代理模式.md\":\"e2fcb83d\",\"javascriptdesignpatterns_2020-01-09-javascript设计模式核心原理与运用实践-适配器模式.md\":\"630297d8\",\"javascriptdesignpatterns_2020-01-14-javascript设计模式核心原理与运用实践-策略模式、状态模式.md\":\"f907a6da\",\"javascriptdesignpatterns_2020-01-17-javascript设计模式核心原理与运用实践-迭代器模式.md\":\"41cff46c\",\"webpack_2020-12-12-webpack-初识.md\":\"9ddd44cb\",\"javascriptdesignpatterns_2020-01-16-javascript设计模式核心原理与运用实践-观察者模式、发布-订阅模式.md\":\"ac86eee9\",\"webpack_2020-12-12-webpack-解决了什么问题.md\":\"2d90d4dc\",\"webpack_2020-12-13-webpack-如何使用webpack实现模块化打包.md\":\"392afddf\",\"webpack_2020-12-19-webpack-探索 webpack 运行机制与核心工作原理.md\":\"5deb0b83\",\"webpack_2020-12-15-webpack-如何利用插件机制横向扩展 webpack 的构建能力.md\":\"fcfa7675\",\"webpack_2020-12-14-webpack-如何通过 loader 实现特殊资源加载.md\":\"eae1d0d3\",\"webpack_2020-12-24-webpack-如何使用 dev server 提高你的本地开发效率.md\":\"5e7930db\",\"webpack_2020-12-24-webpack-如何配置 webpack sourcemap 的最佳实践.md\":\"b72af627\",\"webpack_2020-12-25-webpack-如何让你的模块支持热替换（hmr）机制.md\":\"0622506b\",\"webpack_2020-12-27-webpack-玩转 webpack 高级特性应对项目优化需求（上）tree shaking 和 sideeffects.md\":\"9fd06e2c\",\"webpack_2021-01-02-webpack-玩转 webpack 高级特性应对项目优化需求（下）code splitting.md\":\"80509ff2\",\"webpack_2021-01-20-webpack-如何使用 parcel 零配置完成打包任务.md\":\"76acd26d\",\"webpack_2021-01-19-webpack-如何选择打包工具：rollup 和 webpack.md\":\"1e16d082\",\"webpack_2021-01-04-webpack-如何优化 webpack 的构建速度和打包结果.md\":\"e750d499\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-cn\",\"dir\":\"ltr\",\"title\":\"@Ruiyoung/blog\",\"description\":\"博客\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"blog\":{\"pagesData\":[{\"route\":\"/FrontendPerformanceOptimization/2019-12-20-webpack性能调优与Gzip 原理\",\"meta\":{\"title\":\"webpack 性能调优与 Gzip 原理\",\"description\":\"如何从webpack着手性能优化\",\"date\":\"2018-12-20 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"前端性能优化\"],\"cover\":\"\"}},{\"route\":\"/FrontendPerformanceOptimization/2019-12-20-图片优化-质量与性能的博弈\",\"meta\":{\"title\":\"图片优化——质量与性能的博弈\",\"description\":\"如何从图片格式选取着手性能优化\",\"date\":\"2018-12-20 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"前端性能优化\"],\"cover\":\"\"}},{\"route\":\"/FrontendPerformanceOptimization/2019-12-20-浏览器加载流程\",\"meta\":{\"title\":\"浏览器加载流程\",\"description\":\"从输入 URL 到页面加载完成，发生了什么\",\"date\":\"2019-12-20 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"前端性能优化\",\"浏览器\"],\"cover\":\"\"}},{\"route\":\"/FrontendPerformanceOptimization/2019-12-21-CDN 的缓存与回源机制解析\",\"meta\":{\"title\":\"CDN 的缓存与回源机制解析\",\"description\":\"从CDN着手性能优化\",\"date\":\"2019-12-21 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"前端性能优化\",\"浏览器\"],\"cover\":\"\"}},{\"route\":\"/FrontendPerformanceOptimization/2019-12-21-Event Loop 与异步更新策略\",\"meta\":{\"title\":\"Event Loop 与异步更新策略\",\"description\":\"从Event Loop中着手性能优化\",\"date\":\"2019-12-22 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"前端性能优化\",\"浏览器\"],\"cover\":\"\"}},{\"route\":\"/FrontendPerformanceOptimization/2019-12-21-服务端渲染的探索与实践\",\"meta\":{\"title\":\"服务端渲染的探索与实践\",\"description\":\"从服务端渲染着手性能优化\",\"date\":\"2019-12-20 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"前端性能优化\",\"浏览器\"],\"cover\":\"\"}},{\"route\":\"/FrontendPerformanceOptimization/2019-12-21-本地存储-从 Cookie 到 Web Storage、IndexedDB\",\"meta\":{\"title\":\"本地存储——从 Cookie 到 Web Storage、IndexedDB\",\"description\":\"从本地存储中着手性能优化\",\"date\":\"2019-12-21 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"前端性能优化\",\"浏览器\"],\"cover\":\"\"}},{\"route\":\"/FrontendPerformanceOptimization/2019-12-21-浏览器缓存机制介绍与缓存策略剖析\",\"meta\":{\"title\":\"浏览器缓存机制介绍与缓存策略剖析\",\"description\":\"从浏览器缓存机制与缓存策略中着手性能优化\",\"date\":\"2019-12-21 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"前端性能优化\",\"浏览器\"],\"cover\":\"\"}},{\"route\":\"/FrontendPerformanceOptimization/2019-12-21-解锁浏览器背后的运行机制\",\"meta\":{\"title\":\"解锁浏览器背后的运行机制\",\"despription\":\"从浏览器背后的运行机制中着手性能优化\",\"date\":\"2019-12-21 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"前端性能优化\",\"浏览器\"],\"cover\":\"\"}},{\"route\":\"/FrontendPerformanceOptimization/2019-12-22-DOM 优化原理与基本实践\",\"meta\":{\"title\":\"DOM 优化原理与基本实践\",\"subtitle\":\"从DOM中着手性能优化\",\"date\":\"2019-12-22 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"前端性能优化\",\"浏览器\"],\"cover\":\"\"}},{\"route\":\"/css/2017-10-04-css-基本概念\",\"meta\":{\"title\":\"基本概念\",\"date\":\"2017-10-05 00:00:00\",\"author\":\"Ruiyoung\",\"tags\":[\"css\"],\"tag\":[\"css\"],\"cover\":\"\"}},{\"route\":\"/css/2017-10-05-css-em&rem&vw&vh\",\"meta\":{\"title\":\"em、rem、vw、vh\",\"date\":\"2017-10-05 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"css\"],\"cover\":\"\"}},{\"route\":\"/javaScript/2017-07-01-javaScript-面向对象\",\"meta\":{\"title\":\"面向对象\",\"date\":\"2017-07-01 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript\"],\"cover\":\"\"}},{\"route\":\"/javaScript/2017-07-01-javascript-函数\",\"meta\":{\"title\":\"函数\",\"date\":\"2017-07-01 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript\"],\"cover\":\"\"}},{\"route\":\"/javaScript/2017-07-05-javaScript-匿名函数和闭包\",\"meta\":{\"title\":\"匿名函数和闭包\",\"date\":\"2017-07-05 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript\"],\"cover\":\"\"}},{\"route\":\"/javaScript/2017-07-12-javaScript-JSON\",\"meta\":{\"title\":\"JSON\",\"date\":\"2017-07-05 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript\"],\"cover\":\"\"}},{\"route\":\"/javaScript/2017-07-12-javaScript-cookie\",\"meta\":{\"title\":\"cookie\",\"date\":\"2017-07-05 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript\"],\"cover\":\"\"}},{\"route\":\"/javaScript/2017-07-15-javaScript-Ajax\",\"meta\":{\"title\":\"Ajax\",\"date\":\"2017-07-15 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript\"],\"cover\":\"\"}},{\"route\":\"/javaScript/2017-08-05-javaScript-正则表达式RegExp\",\"meta\":{\"title\":\"正则表达式RegExp\",\"date\":\"2017-07-15 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript\"],\"cover\":\"\"}},{\"route\":\"/javaScript/2017-09-05-javaScript-Date\",\"meta\":{\"title\":\"Date\",\"date\":\"2017-09-05 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript\"],\"cover\":\"\"}},{\"route\":\"/javaScript/2017-09-05-javaScript-错误处理\",\"meta\":{\"title\":\"错误处理\",\"date\":\"2017-09-05 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript\"],\"cover\":\"\"}},{\"route\":\"/javaScriptDesignPatterns/2020-01-02-javaScript 设计模式核心原理与应用实践-构造器模式、工厂模式\",\"meta\":{\"title\":\"构造器模式、工厂模式\",\"date\":\"2020-01-02 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript设计模式\"],\"cover\":\"\"}},{\"route\":\"/javaScriptDesignPatterns/2020-01-02-javaScript 设计模式核心原理与应用实践-设计模式的道与术\",\"meta\":{\"title\":\"设计模式的道与术\",\"date\":\"2020-01-02 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript设计模式\"],\"cover\":\"\"}},{\"route\":\"/javaScriptDesignPatterns/2020-01-06-javaScript设计模式核心原理与运用实践-单例模式\",\"meta\":{\"title\":\"单例模式\",\"date\":\"2020-01-06 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript设计模式\"],\"cover\":\"\"}},{\"route\":\"/javaScriptDesignPatterns/2020-01-08-javaScript设计模式核心原理与运用实践-装饰器模式\",\"meta\":{\"title\":\"装饰器模式\",\"date\":\"2020-01-06 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript设计模式\"],\"cover\":\"\"}},{\"route\":\"/javaScriptDesignPatterns/2020-01-09-javaScript设计模式核心原理与运用实践-适配器模式\",\"meta\":{\"title\":\"适配器模式\",\"date\":\"2020-01-06 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript设计模式\"],\"cover\":\"\"}},{\"route\":\"/javaScriptDesignPatterns/2020-01-11-javaScript设计模式核心原理与运用实践-代理模式\",\"meta\":{\"title\":\"代理模式\",\"date\":\"2020-01-11 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript设计模式\"],\"cover\":\"\"}},{\"route\":\"/javaScriptDesignPatterns/2020-01-14-javaScript设计模式核心原理与运用实践-策略模式、状态模式\",\"meta\":{\"title\":\"策略模式、状态模式\",\"date\":\"2020-01-14 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript设计模式\"],\"cover\":\"\"}},{\"route\":\"/javaScriptDesignPatterns/2020-01-16-javaScript设计模式核心原理与运用实践-观察者模式、发布-订阅模式\",\"meta\":{\"title\":\"观察者模式、发布-订阅模式\",\"date\":\"2020-01-16 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript设计模式\"],\"cover\":\"\"}},{\"route\":\"/javaScriptDesignPatterns/2020-01-17-javaScript设计模式核心原理与运用实践-迭代器模式\",\"meta\":{\"title\":\"迭代器模式\",\"date\":\"2020-01-17 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"javaScript设计模式\"],\"cover\":\"\"}},{\"route\":\"/webpack/2020-12-12-webpack-初识\",\"meta\":{\"title\":\"初识webpack\",\"date\":\"2020-12-12 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"cover\":\"\"}},{\"route\":\"/webpack/2020-12-12-webpack-解决了什么问题\",\"meta\":{\"title\":\"webpack 究竟解决了什么问题?\",\"date\":\"2020-12-12 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"cover\":\"\"}},{\"route\":\"/webpack/2020-12-13-webpack-如何使用webpack实现模块化打包\",\"meta\":{\"title\":\"如何使用webpack实现模块化打包?\",\"date\":\"2020-12-13 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"cover\":\"https://s0.lgstatic.com/i/image3/M01/11/FC/Ciqah16dFAaAMNccAADOAanBuOA265.png\"}},{\"route\":\"/webpack/2020-12-14-webpack-如何通过 Loader 实现特殊资源加载\",\"meta\":{\"title\":\"如何通过 Loader 实现特殊资源加载？\",\"date\":\"2020-12-14 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"description\":\"```\\n```js\\n// ./webpack.config.js\\nmodule.exports = {\\n  entry: \\\"./src/main.css\\\",\\n  output: {\\n    filen\",\"cover\":\"https://s0.lgstatic.com/i/image3/M01/13/A7/Ciqah16f_9iAeIxHAAEyykeZNFk556.png\"}},{\"route\":\"/webpack/2020-12-15-webpack-如何利用插件机制横向扩展 Webpack 的构建能力\",\"meta\":{\"title\":\"如何利用插件机制横向扩展 Webpack 的构建能力？\",\"date\":\"2020-12-15 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"cover\":\"https://s0.lgstatic.com/i/image3/M01/09/76/CgoCgV6mUnaAde1lAAEPswbjvdg271.png\"}},{\"route\":\"/webpack/2020-12-19-webpack-探索 Webpack 运行机制与核心工作原理\",\"meta\":{\"title\":\"探索 Webpack 运行机制与核心工作原理\",\"date\":\"2020-12-19 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"cover\":\"https://s0.lgstatic.com/i/image/M00/00/4E/CgqCHl6pSFmAC5UzAAEwx63IBwE024.png\"}},{\"route\":\"/webpack/2020-12-24-webpack-如何使用 Dev Server 提高你的本地开发效率\",\"meta\":{\"title\":\"如何使用 Dev Server 提高你的本地开发效率？\",\"date\":\"2020-12-24 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"description\":\"$ npm install browser-sync --global\\n$ browser-sync dist --watch\\n 或者也可以使用 npx 直接使用远端模块\\n$ npx browser-\",\"cover\":\"https://s0.lgstatic.com/i/image/M00/03/60/CgqCHl6ykgmAQxFBAPPMpiFtDhw170.gif\"}},{\"route\":\"/webpack/2020-12-24-webpack-如何配置 Webpack SourceMap 的最佳实践\",\"meta\":{\"title\":\"如何配置 Webpack SourceMap 的最佳实践？\",\"date\":\"2020-12-24 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"cover\":\"https://s0.lgstatic.com/i/image/M00/07/31/CgqCHl65BMmAH6A5AAB71vulYEw615.png\"}},{\"route\":\"/webpack/2020-12-25-webpack-如何让你的模块支持热替换（HMR）机制\",\"meta\":{\"title\":\"如何让你的模块支持热替换（HMR）机制？\",\"date\":\"2020-12-25 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"cover\":\"https://s0.lgstatic.com/i/image/M00/09/1D/Ciqc1F67uVGANMuRAAwzuBVY37c734.gif\"}},{\"route\":\"/webpack/2020-12-27-webpack-玩转 Webpack 高级特性应对项目优化需求（上）Tree Shaking 和 sideEffects\",\"meta\":{\"title\":\"玩转 Webpack 高级特性应对项目优化需求（上）Tree Shaking 和 sideEffects\",\"date\":\"2020-12-27 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"cover\":\"https://s0.lgstatic.com/i/image/M00/0C/24/CgqCHl7CJgCAODEAAAL-CbA2wi8995.png\"}},{\"route\":\"/webpack/2021-01-02-webpack-玩转 Webpack 高级特性应对项目优化需求（下）Code Splitting\",\"meta\":{\"title\":\"玩转 Webpack 高级特性应对项目优化需求（下）Code Splitting\",\"date\":\"2021-01-02 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"cover\":\"https://s0.lgstatic.com/i/image/M00/0D/EA/CgqCHl7Ez4KAXb6IAAB9gPjr4iw703.png\"}},{\"route\":\"/webpack/2021-01-04-webpack-如何优化 Webpack 的构建速度和打包结果\",\"meta\":{\"title\":\"如何优化 Webpack 的构建速度和打包结果？\",\"date\":\"2021-01-04 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"description\":\"```\\n安装完成过后我们回到配置文件中，这里先载入这个模块。那这个模块导出的就是一个 merge 函数，我们使用这个函数来合并这里的配置与公共的配置。具体代码如下：\\n```js\\n// ./webpac\",\"cover\":\"https://s0.lgstatic.com/i/image/M00/10/E9/Ciqc1F7LaHWAV84JAADT7IV7CvE825.png\"}},{\"route\":\"/webpack/2021-01-19-webpack-如何选择打包工具：Rollup 和 Webpack\",\"meta\":{\"title\":\"如何选择打包工具：Rollup 和 Webpack ？\",\"date\":\"2021-01-19 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"cover\":\"https://s0.lgstatic.com/i/image/M00/13/01/CgqCHl7OSaeAFukyAAE1QDF-mHI012.png\"}},{\"route\":\"/webpack/2021-01-20-webpack-如何使用 Parcel 零配置完成打包任务\",\"meta\":{\"title\":\"如何使用 Parcel 零配置完成打包任务？\",\"date\":\"2021-01-20 00:00:00\",\"author\":\"Ruiyoung\",\"tag\":[\"webpack\"],\"cover\":\"https://s0.lgstatic.com/i/image/M00/15/BE/Ciqc1F7UozCAaPTaAAUS6rk6md0993.png\"}}],\"author\":\"Ruiyoung\",\"outputDir\":\"blog\",\"friend\":[{\"nickname\":\"resume\",\"des\":\"你的指尖用于改变世界的力量\",\"avatar\":\"https://static.ruiyoung.online/images/avator.jpg\",\"url\":\"https://resume.ruiyoung.online\"},{\"nickname\":\"掘金\",\"des\":\"一个帮助开发者成长的社区\",\"avatar\":\"https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/e08da34488b114bd4c665ba2fa520a31.svg\",\"url\":\"https://juejin.cn/user/3403743729297790\"}],\"recommend\":{\"showSelf\":true},\"search\":\"pagefind\"},\"sidebar\":[{\"text\":\"\",\"items\":[]}],\"lastUpdatedText\":\"上次更新于\",\"footer\":{\"message\":\"自定义底部内容\",\"copyright\":\"MIT Licensed | <a target=\\\"_blank\\\" href=\\\"https://theme.sugarat.top/\\\"> @sugarat/theme </a>\"},\"logo\":\"/logo.jpg\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/RuiYoung\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>